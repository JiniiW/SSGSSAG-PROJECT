<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ssg.ssgssag.mapper.MemberMapper">

  <insert id="insertMembers" parameterType="MemberVO">
    insert into TB_MEMBER(V_MEMBER_ID, V_MEMBER_PW, V_MEMBER_NM, V_MEMBER_AUTH, V_EMAIL) values(#{vMemberId},#{vMemberPw},#{vMemberNm},'OPERATOR',#{vEmail})
  </insert>

  <select id="selectAllMembers" resultType="com.ssg.ssgssag.dto.MemberDTO">
    select * from TB_MEMBER;
  </select>

  <select id="getOneMemberInfo" resultType="com.ssg.ssgssag.domain.MemberVO">
    select * from TB_MEMBER where V_MEMBER_ID = #{vMemberId}
  </select>


  <select id="selectMemberByName" resultType="com.ssg.ssgssag.dto.MemberDTO">
    select * from TB_MEMBER where V_MEMBER_NM = #{name};
  </select>

  <select id="selectMemberByString" resultType="com.ssg.ssgssag.dto.MemberDTO">
    select * from TB_MEMBER
    where 1=1
      <if test="vMemberAuth != null and vMemberAuth != 'ALL'">
        and V_MEMBER_AUTH = #{vMemberAuth}
      </if>
      <if test="vMemberNm != null">
        and V_MEMBER_NM = #{vMemberNm}
      </if>
      <if test="vMemberId != null">
        and V_MEMBER_ID= #{vMemberId}
      </if>
      <if test="vEmail != null">
        and V_EMAIL = #{vEmail}
      </if>
  </select>

  <update id="modifyMemberInfo" parameterType="com.ssg.ssgssag.dto.MemberDTO">
    update TB_MEMBER set V_MEMBER_NM = #{vMemberNm}, V_MEMBER_PW = #{vMemberPw}, V_MEMBER_AUTH = #{vMemberAuth}, V_EMAIL = #{vEmail} where V_MEMBER_ID = #{vMemberId}
  </update>


</mapper>